# Korrigo Production Environment (labomaths.tn)
# =================================================

# Django Configuration
SECRET_KEY=YOUR_SECRET_KEY_HERE_50_CHARS_MINIMUM
DJANGO_ENV=production
DEBUG=False
ALLOWED_HOSTS=korrigo.labomaths.tn,labomaths.tn
DJANGO_ALLOWED_HOSTS=korrigo.labomaths.tn,labomaths.tn

# Database Configuration
DB_NAME=korrigo_prod
DB_USER=korrigo_user
DB_PASSWORD=YOUR_DB_PASSWORD_HERE
DB_HOST=db
DB_PORT=5432
DB_CONN_MAX_AGE=60

# Security Settings
SSL_ENABLED=true
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=true
SECURE_HSTS_PRELOAD=true

# CRITICAL FIX for Cookie Authentication (403 issue)
# These MUST be set to "None" for cookies to work with HTTPS in production
SESSION_COOKIE_SAMESITE=None
CSRF_COOKIE_SAMESITE=None

# CORS Configuration (MUST include your domain)
CORS_ALLOWED_ORIGINS=https://korrigo.labomaths.tn
CSRF_TRUSTED_ORIGINS=https://korrigo.labomaths.tn

# Rate Limiting
RATELIMIT_ENABLE=true

# Logging
DJANGO_LOG_LEVEL=INFO

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=1

# Celery Configuration
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Email Configuration (for error notifications)
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USE_TLS=true
EMAIL_HOST_USER=your-email@example.com
EMAIL_HOST_PASSWORD=YOUR_EMAIL_PASSWORD
ADMINS=admin@labomaths.tn

# GitHub Container Registry (if using images)
# GITHUB_REPOSITORY_OWNER=your-org
# KORRIGO_SHA=latest
