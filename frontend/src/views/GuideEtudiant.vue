<template>
  <SectionContainer title="Guide √âl√®ve">

    <div class="mb-8 p-4 bg-green-50 rounded-lg border border-green-200 flex items-start gap-3">
      <GraduationCap class="w-6 h-6 text-green-600 flex-shrink-0 mt-0.5" />
      <div>
        <h3 class="text-sm font-medium text-green-800">Bienvenue sur le portail √©l√®ve Korrigo PMF</h3>
        <p class="mt-1 text-sm text-green-700">
          Ce portail vous permet de consulter vos copies d'examens corrig√©es, de comprendre les annotations
          de vos professeurs et de t√©l√©charger vos copies en PDF. Vos donn√©es sont prot√©g√©es conform√©ment au RGPD.
        </p>
      </div>
    </div>

    <CollapsibleSection title="1. Comment me connecter ?">
      <p class="mb-4">Vos identifiants de connexion sont fournis par le lyc√©e :</p>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Email :</strong> Votre adresse email scolaire (ex : <code>prenom.nom@ert.tn</code>).</li>
        <li><strong>Mot de passe :</strong> Un mot de passe provisoire vous est fourni. √Ä la premi√®re connexion, il peut vous √™tre demand√© de le modifier.</li>
      </ul>
      <h4 class="font-medium text-gray-900 mb-2">√âtapes de connexion :</h4>
      <ol class="list-decimal pl-5 space-y-1.5 text-sm mb-4">
        <li>Ouvrez votre navigateur (Chrome, Firefox, Edge recommand√©s)</li>
        <li>Acc√©dez √† l'URL du portail √©l√®ve (fournie par votre lyc√©e)</li>
        <li>Saisissez votre email et votre mot de passe</li>
        <li>Cliquez sur <strong>¬´ Se connecter ¬ª</strong></li>
      </ol>
      <div class="bg-yellow-50 border border-yellow-200 rounded p-3 text-sm text-yellow-800">
        <strong>Mot de passe oubli√© ?</strong> Contactez le secr√©tariat ou votre professeur principal.
        Il n'y a pas encore de lien automatique ¬´ Mot de passe oubli√© ¬ª sur le site.
      </div>
    </CollapsibleSection>

    <CollapsibleSection title="2. Mon tableau de bord">
      <p class="mb-4">
        Une fois connect√©, votre tableau de bord affiche la liste de tous vos <strong>examens corrig√©s</strong>.
      </p>
      <p class="mb-3">Pour chaque examen, vous voyez :</p>
      <ul class="list-disc pl-5 space-y-1.5 text-sm mb-4">
        <li><strong>Nom de l'examen</strong> (ex : Bac Blanc Math√©matiques TG)</li>
        <li><strong>Votre note</strong> (ex : 14.5/20)</li>
        <li><strong>Date de correction</strong></li>
        <li>Boutons <strong>¬´ Voir la copie ¬ª</strong> et <strong>¬´ T√©l√©charger PDF ¬ª</strong></li>
      </ul>
      <div class="bg-blue-50 border border-blue-200 rounded p-3 text-sm text-blue-800">
        Les copies apparaissent <strong>uniquement apr√®s finalisation</strong> par le professeur. Si vous ne voyez pas encore de copies, c'est normal : la correction est probablement en cours.
      </div>
    </CollapsibleSection>

    <CollapsibleSection title="3. Comprendre les annotations">
      <p class="mb-4">
        Vos professeurs utilisent <strong>4 types d'annotations</strong> standardis√©es sur vos copies :
      </p>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="flex items-start gap-3 p-3 border rounded-lg bg-white">
          <span class="text-red-500 font-bold text-xl mt-0.5">üí¨</span>
          <div>
            <h4 class="font-semibold text-sm text-gray-900">Commentaire</h4>
            <p class="text-xs text-gray-600">Remarque, explication ou conseil du professeur. Peut contenir des points (+/-).
              Ex : ¬´ Bonne m√©thode, mais erreur de calcul ligne 3 ¬ª.</p>
          </div>
        </div>
        <div class="flex items-start gap-3 p-3 border rounded-lg bg-white">
          <span class="bg-yellow-200 w-6 h-6 rounded flex-shrink-0 mt-1"></span>
          <div>
            <h4 class="font-semibold text-sm text-gray-900">Surlignage</h4>
            <p class="text-xs text-gray-600">Passage mis en √©vidence par le professeur. Peut indiquer une zone importante √† relire ou un point √† retenir.</p>
          </div>
        </div>
        <div class="flex items-start gap-3 p-3 border rounded-lg bg-white">
          <span class="text-red-500 font-bold text-xl mt-0.5">‚úó</span>
          <div>
            <h4 class="font-semibold text-sm text-gray-900">Erreur</h4>
            <p class="text-xs text-gray-600">Signale une erreur. Accompagn√© des points retir√©s (ex : -1.0) et souvent d'un commentaire explicatif.</p>
          </div>
        </div>
        <div class="flex items-start gap-3 p-3 border rounded-lg bg-white">
          <span class="text-green-500 font-bold text-xl mt-0.5">‚≠ê</span>
          <div>
            <h4 class="font-semibold text-sm text-gray-900">Bonus</h4>
            <p class="text-xs text-gray-600">R√©compense une initiative ou un raisonnement original. Points bonus ajout√©s (ex : +0.5).</p>
          </div>
        </div>
      </div>
      <div class="mt-4 bg-gray-50 border border-gray-200 rounded p-3 text-sm">
        <strong>Calcul de la note :</strong> Note = Points obtenus par question + Bonus ‚àí Erreurs.
        Le total est calcul√© automatiquement. Vous voyez exactement comment votre note a √©t√© attribu√©e gr√¢ce aux annotations.
      </div>
    </CollapsibleSection>

    <CollapsibleSection title="4. T√©l√©charger mes copies">
      <p class="mb-4">Vous pouvez t√©l√©charger vos copies en PDF pour les conserver, les partager avec vos parents ou les imprimer :</p>
      <ul class="list-disc pl-5 space-y-2 text-sm mb-4">
        <li><strong>Depuis le tableau de bord :</strong> Cliquez sur <strong>¬´ T√©l√©charger PDF ¬ª</strong> √† c√¥t√© de l'examen.</li>
        <li><strong>Depuis le visualiseur :</strong> Ouvrez la copie, puis cliquez sur le bouton de t√©l√©chargement.</li>
      </ul>
      <p class="text-sm text-gray-600 mb-3">Le PDF contient votre copie compl√®te avec toutes les annotations int√©gr√©es, votre nom et votre note.</p>
      <p class="text-sm text-gray-500 italic">Vous pouvez t√©l√©charger vos copies autant de fois que vous le souhaitez.</p>
    </CollapsibleSection>

    <CollapsibleSection title="5. Vos droits et confidentialit√© (RGPD)">
      <p class="mb-4 text-sm">
        Korrigo PMF respecte le <strong>R√®glement G√©n√©ral sur la Protection des Donn√©es</strong> (RGPD).
        Vos donn√©es personnelles sont prot√©g√©es et votre vie priv√©e est respect√©e.
      </p>

      <h4 class="font-medium text-gray-900 mb-2">Donn√©es stock√©es</h4>
      <ul class="list-disc pl-5 space-y-1 text-sm mb-4 text-gray-600">
        <li>Nom, pr√©nom et classe</li>
        <li>Adresse email scolaire</li>
        <li>Copies d'examens et notes</li>
      </ul>

      <h4 class="font-medium text-gray-900 mb-2">Qui peut voir vos copies ?</h4>
      <div class="overflow-x-auto mb-4">
        <table class="w-full text-sm border-collapse">
          <tbody class="text-gray-600">
            <tr><td class="px-3 py-1.5 border-b font-medium">Vous</td><td class="px-3 py-1.5 border-b">Uniquement vos propres copies</td></tr>
            <tr><td class="px-3 py-1.5 border-b font-medium">Vos professeurs</td><td class="px-3 py-1.5 border-b">Pour corriger (copie anonymis√©e)</td></tr>
            <tr><td class="px-3 py-1.5 border-b font-medium">Administrateurs</td><td class="px-3 py-1.5 border-b">Gestion technique de la plateforme</td></tr>
            <tr><td class="px-3 py-1.5 font-medium">Autres √©l√®ves</td><td class="px-3 py-1.5">Aucun acc√®s √† vos copies</td></tr>
          </tbody>
        </table>
      </div>

      <h4 class="font-medium text-gray-900 mb-2">Vos droits</h4>
      <ul class="list-disc pl-5 space-y-1.5 text-sm text-gray-600 mb-4">
        <li><strong>Droit d'acc√®s :</strong> Savoir quelles donn√©es sont stock√©es √† votre sujet</li>
        <li><strong>Droit de rectification :</strong> Corriger une information inexacte (nom mal orthographi√©, etc.)</li>
        <li><strong>Droit √† l'effacement :</strong> Suppression apr√®s la dur√©e l√©gale de conservation (1 an)</li>
        <li><strong>Droit de portabilit√© :</strong> Recevoir une copie de vos donn√©es en PDF</li>
      </ul>

      <h4 class="font-medium text-gray-900 mb-2">Dur√©es de conservation</h4>
      <ul class="list-disc pl-5 space-y-1 text-sm text-gray-600 mb-4">
        <li>Copies d'examens : <strong>1 an</strong> apr√®s l'examen</li>
        <li>Notes : jusqu'√† la fin de votre scolarit√© + 1 an</li>
        <li>Donn√©es personnelles : supprim√©es apr√®s votre d√©part du lyc√©e</li>
      </ul>

      <div class="bg-green-50 border border-green-200 rounded p-3 text-sm text-green-800">
        <strong>Contact RGPD :</strong> Pour exercer vos droits, contactez le DPO de votre lyc√©e ou √©crivez √† <code>dpo@korrigo.education</code>.
        En cas de non-respect de vos droits, vous pouvez contacter la <strong>CNIL</strong> (cnil.fr).
      </div>
    </CollapsibleSection>

    <CollapsibleSection title="6. Questions fr√©quentes">
      <div class="space-y-4">
        <div>
          <h4 class="font-medium text-gray-900">J'ai oubli√© mon mot de passe.</h4>
          <p class="text-sm text-gray-600">Contactez le secr√©tariat ou votre professeur principal pour une r√©initialisation.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900">Je n'ai pas encore de copies corrig√©es.</h4>
          <p class="text-sm text-gray-600">C'est normal si vos professeurs n'ont pas encore finalis√© les corrections. Les copies apparaissent uniquement apr√®s finalisation.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900">Le PDF ne s'affiche pas.</h4>
          <p class="text-sm text-gray-600">Actualisez la page (F5), videz le cache du navigateur, ou essayez Google Chrome. V√©rifiez aussi votre connexion internet.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900">Ma note est diff√©rente de celle sur Pronote.</h4>
          <p class="text-sm text-gray-600">C'est possible si la note a √©t√© arrondie ou si un coefficient a √©t√© appliqu√© dans Pronote. En cas de doute, demandez √† votre professeur.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900">Les autres √©l√®ves peuvent-ils voir mes notes ?</h4>
          <p class="text-sm text-gray-600">Non, absolument pas. Chaque √©l√®ve ne voit que ses propres copies. La plateforme garantit cette confidentialit√©.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900">Comment contester ma note ?</h4>
          <p class="text-sm text-gray-600">Parlez directement √† votre professeur. Le support technique ne peut pas modifier les notes.</p>
        </div>
      </div>
    </CollapsibleSection>

    <CollapsibleSection title="7. Conseils d'utilisation">
      <div class="space-y-3 text-sm">
        <div>
          <h4 class="font-medium text-gray-900 mb-1">Consultez r√©guli√®rement</h4>
          <p class="text-gray-600">Connectez-vous r√©guli√®rement pour voir vos nouvelles copies corrig√©es.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900 mb-1">T√©l√©chargez vos copies</h4>
          <p class="text-gray-600">T√©l√©chargez toutes vos copies importantes (Bac Blanc, contr√¥les). Organisez vos PDF par mati√®re et trimestre.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900 mb-1">R√©visez avec vos copies</h4>
          <p class="text-gray-600">Relisez les commentaires de vos professeurs pour comprendre vos erreurs et noter les points √† am√©liorer.</p>
        </div>
        <div>
          <h4 class="font-medium text-gray-900 mb-1">S√©curit√©</h4>
          <p class="text-gray-600">Ne partagez jamais vos identifiants. D√©connectez-vous apr√®s chaque session, surtout sur un ordinateur partag√©.</p>
        </div>
      </div>
    </CollapsibleSection>

  </SectionContainer>
</template>

<script setup>
import SectionContainer from '../components/SectionContainer.vue'
import CollapsibleSection from '../components/CollapsibleSection.vue'
import { GraduationCap } from 'lucide-vue-next'
</script>
